<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Nguyễn Bình Nam">
<meta name="description" content="Mô phỏng và tính toán trạng thái 1 tên lửa TVC bằng Python" />
<meta name="keywords" content="homepage, blog, tech, engineering, portfolio, cybersecurity, embedded systems, electronics, lập trình, khoa học, mô phỏng" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://namberino.github.io/vi/posts/2024/06/m%C3%B4-ph%E1%BB%8Fng-t%C3%AAn-l%E1%BB%ADa-%C4%91i%E1%BB%81u-ch%E1%BB%89nh-vect%C6%A1-%C4%91%E1%BA%A9y-trong-python/" />


    <title>
        
            Mô Phỏng Tên Lửa Điều Chỉnh Vectơ Đẩy trong Python :: Nam&#39;s Journal 
        
    </title>





  <link rel="stylesheet" href="/main.min.244183cde1a38e0b08f82c11791181288f9aac1cc9618cd6f4e9e7710c5768ba.css" integrity="sha256-JEGDzeGjjgsI&#43;CwReRGBKI&#43;arBzJYYzW9OnncQxXaLo=" crossorigin="anonymous">





    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Mô Phỏng Tên Lửa Điều Chỉnh Vectơ Đẩy trong Python">
  <meta itemprop="description" content="Mô phỏng và tính toán trạng thái 1 tên lửa TVC bằng Python">
  <meta itemprop="datePublished" content="2024-06-05T20:31:39+07:00">
  <meta itemprop="dateModified" content="2024-06-05T20:31:39+07:00">
  <meta itemprop="wordCount" content="4020">
  <meta itemprop="image" content="https://namberino.github.io/">
  <meta itemprop="keywords" content="Lập Trình,Khoa Học,Mô Phỏng">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://namberino.github.io/">
  <meta name="twitter:title" content="Mô Phỏng Tên Lửa Điều Chỉnh Vectơ Đẩy trong Python">
  <meta name="twitter:description" content="Mô phỏng và tính toán trạng thái 1 tên lửa TVC bằng Python">



    <meta property="og:url" content="https://namberino.github.io/vi/posts/2024/06/m%C3%B4-ph%E1%BB%8Fng-t%C3%AAn-l%E1%BB%ADa-%C4%91i%E1%BB%81u-ch%E1%BB%89nh-vect%C6%A1-%C4%91%E1%BA%A9y-trong-python/">
  <meta property="og:site_name" content="Nam&#39;s Journal">
  <meta property="og:title" content="Mô Phỏng Tên Lửa Điều Chỉnh Vectơ Đẩy trong Python">
  <meta property="og:description" content="Mô phỏng và tính toán trạng thái 1 tên lửa TVC bằng Python">
  <meta property="og:locale" content="vi">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-05T20:31:39+07:00">
    <meta property="article:modified_time" content="2024-06-05T20:31:39+07:00">
    <meta property="article:tag" content="Lập Trình">
    <meta property="article:tag" content="Khoa Học">
    <meta property="article:tag" content="Mô Phỏng">
    <meta property="og:image" content="https://namberino.github.io/">






    <meta property="article:published_time" content="2024-06-05 20:31:39 &#43;0700 &#43;07" />












<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>

    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                nam$journal</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/vi/about/">About me</a></li><li><a href="/vi/posts/">Bài đăng</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
                <span class="theme-toggle not-selectable" style="margin-left: 1.5rem; margin-right: 1rem;">
    
        
            
                <a href="https://namberino.github.io/posts/2024/06/modeling-a-thrust-vector-control-rocket-in-python/" style="text-decoration: none;"> EN </a>
            
        
    
        
            
                <div style="margin-left: 0.12rem; margin-right: 0.12rem;"> | </div>
            
            <a class="active language" style="text-decoration: underline;"> VI </a>
            
                <div> </div>
            
        
    

</span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        19 minutes

         | Also available in
          
              <a href="https://namberino.github.io/posts/2024/06/modeling-a-thrust-vector-control-rocket-in-python/"><span class="flag fi fi-gb"></span></a>
          
        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://namberino.github.io/vi/posts/2024/06/m%C3%B4-ph%E1%BB%8Fng-t%C3%AAn-l%E1%BB%ADa-%C4%91i%E1%BB%81u-ch%E1%BB%89nh-vect%C6%A1-%C4%91%E1%BA%A9y-trong-python/">Mô Phỏng Tên Lửa Điều Chỉnh Vectơ Đẩy trong Python</a>
      </h1>

      
        <div class="post-excerpt">Mô phỏng và tính toán trạng thái 1 tên lửa TVC bằng Python</div>
      

      
        <hr />
        <aside id="toc">
          <div class="toc-title">Table of Contents</div>
          <nav id="TableOfContents">
  <ul>
    <li><a href="#đo-đạc-thông-số-về-tên-lửa">Đo đạc thông số về tên lửa</a></li>
    <li><a href="#3-bậc-tự-do">3 bậc tự do</a></li>
    <li><a href="#lập-trình-hàm-3dof">Lập trình hàm 3DOF</a></li>
    <li><a href="#đặc-tính-lực-đẩy">Đặc tính lực đẩy</a></li>
    <li><a href="#lập-trình-hàm-tạo-đặc-tính-lực-đẩy">Lập trình hàm tạo đặc tính lực đẩy</a></li>
    <li><a href="#mô-phỏng-tên-lửa">Mô phỏng tên lửa</a>
      <ul>
        <li><a href="#vẽ-lược-đồ-dữ-liệu-mô-phỏng-góc-gimbal--0">Vẽ lược đồ dữ liệu mô phỏng (góc gimbal = 0)</a></li>
        <li><a href="#vẽ-lược-đồ-dữ-liệu-mô-phỏng-góc-gimbal-khác-0">Vẽ lược đồ dữ liệu mô phỏng (góc gimbal khác 0)</a></li>
      </ul>
    </li>
    <li><a href="#kết-luận">Kết luận</a></li>
  </ul>
</nav>
        </aside>
        <hr />

      

      <div class="post-content">
        <p>Kĩ thuật tên lửa là 1 topic mà mình rất thích và mình cũng muốn thử build 1 tên lửa mô hình từ rất lâu rồi. Nhưng do nhiều lí do khác nhau, mình không thể build 1 cái tên lửa mô hình được. Thế nên mình sẽ đi theo hướng mô phỏng tên lửa.</p>
<p>Mình sẽ build 1 chương trình mô phỏng cho 1 cái tên lửa điều khiển vectơ đẩy. Loại tên lửa này có thể điều chỉnh hướng phóng của động cơ để thay đổi hướng bay. Tên lưa này sẽ được cấu hình khá giống với thực thế, nó sẽ không giống với thực tế 100%, nhưng đa phần thì nó sẽ giống với thực tế. Mình đã ghi chép lại tất cả chi tiết về dự án này để bất kì ai cũng có thể đọc và học làm theo được.</p>
<blockquote>
<p>Note: Mình sẽ không mô phỏng những yếu tố như gió hay lực cản không khí bởi vì nó hơi quá phức tạp cho cái scope của dự án này. Mình cũng sẽ không lập trình PID hay tạo hệ thống điều khiển đóng gì cả. Mình sẽ add các yếu tố và hệ thống điều khiển vào chương trình mô phỏng này trong tương lai.</p></blockquote>
<h2 id="đo-đạc-thông-số-về-tên-lửa">Đo đạc thông số về tên lửa</h2>
<p>1 chỉ số rất quan trọng mà chúng ta sẽ cần để làm mô phỏng là <em>mô men quán tính khối lượng</em>. Mô men quán tính khối lượng có thể được hiểu là độ &ldquo;kháng lại&rdquo; của tên lửa với thay đổi về mặt quán tính. Cả khối lượng riêng và sự phân bố khối lượng sẽ làm ảnh hưởng tới mô men quán tính khối lượng.</p>
<p>Mình sẽ giải thích ngắn gọn về các chỉ số đo và cách đo. Nếu như bạn muốn hiểu rõ hơn về chỉ số, cách đo và muốn nhìn minh hoa thì bạn có thể xem <a href="https://www.youtube.com/watch?v=nwgd1CV__rs">video này của BPS space</a>. Mình lấy các chỉ số từ video này luôn bởi vì mình không có cách nào để đo 1 tên lửa mô hình ngoài đời thật.</p>
<p>Để tính mô men quán tính khối lượng thì chúng ta sẽ cần khối lượng của tên lửa (<em>kg</em>). Tên lửa của mình sẽ có khối lượng là $0.543kg$.</p>
<p>Tiếp theo, chúng ta cần chỉ số COM-string, chỉ số này sẽ là $0.3m$, chúng ta cũng cần độ dài của dây treo, chỉ số này sẽ là $0.65m$.</p>
<p>Tiếp theo, chúng ta cũng sẽ cần chỉ số cánh tay đòn của tên lửa. Cánh tay đòn là khoảng cách giữa điểm gắn bộ đẩy và trọng tâm của tên lửa. Chỉ số này sẽ rất quan trọng khi chúng ta cần tính mô men xoắn. Chỉ số cánh tay đòn của mình sẽ là $0.28m$.</p>
<p>Tiếp theo thì chúng ta sẽ cần thời gian trung bình giữa mỗi giao động của tên lửa. Chỉ số thời gian này của mình sẽ là $1.603s$.</p>
<p>Mình chỉ nhắc đến các chỉ số này thôi, nếu như bạn muốn biết chi tiết hơn về các chỉ số này thì bạn có thể xem video của BPS space được nhắc đến ở trên.</p>
<p>Tóm gọn lại thì đây là tất cả các chỉ số chúng ta sẽ cần để tính mô men quán tính khối lượng:</p>
<ul>
<li>Trọng lượng của tên lửa: $m = 0.543kg$</li>
<li>Gia tốc trọng trường: $g = 9.81 m / s^2$</li>
<li>Thời gian giữa các giao động: $R_t = 1.603s$</li>
<li>Khoảng cách từ trọng tâm tới dây treo: $d = 0.3m$</li>
<li>Độ dài của dây treo: $l = 0.65m$</li>
</ul>
<p>We can then plug these values into the mass moment of inertia equation: Với những chỉ số này, mình có thể sử dụng phương trình mô men quán tính khối lượng:</p>
<p>$$
MMOI = \frac{m * g * R_t^2 * d^2}{4 \pi^2 * l}
$$</p>
<p>Mình tính ra được giá trị mô men quán tính khối lượng là $0.048kg \cdot m^2$.</p>
<h2 id="3-bậc-tự-do">3 bậc tự do</h2>
<p>1 tên lửa thường sẽ có 3 bậc tự do (<em>3DOF</em>): pitch, yaw, và roll. Bức ảnh này (từ <a href="https://en.wikipedia.org/wiki/Six_degrees_of_freedom">Wikipedia</a>) cho thấy mỗi bậc tự do là gì trong không gian 3D:</p>

    <img src="/img/tvc-modeling/3dof-visual.png"  alt="3DOF visualization"  class="center"  style="padding: 10px"  />


<p>Hàm 3 bật tự do sẽ giúp chúng ta mô phỏng động lực bay của tên lửa bằng cách tính toán sự vận động và góc độ dựa trên lực và mô men được áp đặt lên tên lửa đó. Bởi vì mình đang build chương trình mô phỏng 2D, mình chỉ cần hàm 3DOF có thể tính toán ở trục X và Z.</p>
<p>Chúng ta sẽ cần dữ liệu về lực, mô men, và trọng lượng để có thể mô phỏng động lực của nó. Đầu ra của sẽ là các thông tin đại diện cho trạng thái của tên lửa trong khi nó bay.</p>
<p>Đầu vào của hàm 3DOF:</p>
<ul>
<li>Lực tác động ở trục X và Z ($Fx$ và $Fz$)</li>
<li>Mô men pitch ($My$): Đại diện cho mô men xoắn</li>
</ul>
<p>Đầu ra của hàm 3DOF:</p>
<ul>
<li>Góc pitch ($\theta$): Góc giữa trục tên lửa với mặt phẳng tham chiếu</li>
<li>Độ thay đổi góc pitch ($q$): Độ thay đổi của góc pitch</li>
<li>Gia tốc góc pitch ($dqdt$): Độ thay đổi của độ thay đổi của góc pitch</li>
<li>Tọa độ ($(x, z)$): Tọa độ vị trí của tên lửa</li>
<li>Vận tốc ($(u, w)$): ận tốc ở trúc X và Z của tên lửa</li>
<li>Gia tốc ($(Ax, Az)$): Gia tốc của tên lửa</li>
</ul>
<p>Đây là pitch trong tên lửa:</p>

    <img src="/img/tvc-modeling/rocket-pitch.png"  alt="Rocket&#39;s pitch"  class="center"  style="padding: 10px"  />


<h2 id="lập-trình-hàm-3dof">Lập trình hàm 3DOF</h2>
<p>Chúng ta sẽ cần thư viện numpy và matplotlib để lập trình:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#e06c75">numpy</span> <span style="color:#c678dd">as</span> <span style="color:#e06c75">np</span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#e06c75">matplotlib.pyplot</span> <span style="color:#c678dd">as</span> <span style="color:#e06c75">plt</span>
</span></span></code></pre></div><p>Hàm 3DOF sẽ cần thông số của tên lửa khi nó chưa được phóng:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#98c379">&#39;&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">Đầu vào:
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- Fx: Lực ở trục X (N)
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- Fz: Lực ở trục Z (N)
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- My: Mô mem pitch, đại diện cho mô mem xoắn (Nm)
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- u0: Vận tốc bắt đầu ở trục X
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- w0: Vận tốc bắt đầu ở trục Z
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- theta0: Góc pitch bắt đầu
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- q0: Độ thay đổi bắt đầu của góc pitch
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- pos0: Điểm xuất phát [x, z]
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- mass: Trọng lượng
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- inertia: Mô men quán tính khối lượng
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- g: Gia tốc trọng trường
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- dt: Bước nhảy thời gian
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">- duration: Thời gian mô phỏng
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">def</span> <span style="color:#61afef;font-weight:bold">three_dof_body_axes</span>(<span style="color:#e06c75">Fx</span>, <span style="color:#e06c75">Fz</span>, <span style="color:#e06c75">My</span>, <span style="color:#e06c75">u0</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">w0</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">theta0</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">q0</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">pos0</span><span style="color:#56b6c2">=</span>[<span style="color:#d19a66">0.0</span>, <span style="color:#d19a66">0.0</span>], <span style="color:#e06c75">mass</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0</span>, <span style="color:#e06c75">inertia</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">g</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">9.81</span>, <span style="color:#e06c75">dt</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.01</span>, <span style="color:#e06c75">duration</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">10</span>):
</span></span></code></pre></div><p>Bước nhảy thời gian ở đây là đại diện cho khoảng thời gian nhỏ mà các phương trình sẽ được thực hiện để tính toán thay đổi trong trạng thái của tên lửa.</p>
<p>Mình sẽ gán các đầu vào này vào 1 biến trong hàm để mình làm việc với các dữ liệu đó dễ hơn:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#e06c75">pos</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">pos0</span>, <span style="color:#e06c75">dtype</span><span style="color:#56b6c2">=</span><span style="color:#e5c07b">float</span>) <span style="color:#7f848e"># đảm bảo pos0 là mảng float</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">u</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">u0</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">w</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">w0</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">vel</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>([<span style="color:#e06c75">u</span>, <span style="color:#e06c75">w</span>]) <span style="color:#7f848e"># vận tốc</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">theta</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">theta0</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">q</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">q0</span>
</span></span></code></pre></div><p>Chúng ta sẽ cần tính gia tốc đầu bắt đầu của tên lửa ở trục X và Z. Chúng ta có thể sử dụng phương trình $F=ma$ để tính. Ở trục Z thì chúng ta cũng cần trừ gia tốc trọng trường bởi vì trọng lực. Mình sẽ truy cập giá trị lực bắt đầu của 2 trục bằng cách lấy giá trị đầu tiên của <code>Fx</code> và <code>Fz</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#e06c75">ax</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fx</span>[<span style="color:#d19a66">0</span>] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">mass</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">az</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fz</span>[<span style="color:#d19a66">0</span>] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">mass</span> <span style="color:#56b6c2">-</span> <span style="color:#e06c75">g</span>
</span></span></code></pre></div><p>Mình sẽ tạo ra 1 vài mảng để giữ các dữ liệu trạng thái ở mỗi khoảng thời gian nhỏ $dt$:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#e06c75">theta_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">theta</span>]
</span></span><span style="display:flex;"><span><span style="color:#e06c75">q_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">q</span>]
</span></span><span style="display:flex;"><span><span style="color:#e06c75">dqdt_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#d19a66">0</span>]
</span></span><span style="display:flex;"><span><span style="color:#e06c75">pos_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">pos</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">copy</span>()]
</span></span><span style="display:flex;"><span><span style="color:#e06c75">velocity_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">vel</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">copy</span>()]
</span></span><span style="display:flex;"><span><span style="color:#e06c75">acceleration_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>([<span style="color:#e06c75">ax</span>, <span style="color:#e06c75">az</span>])]
</span></span></code></pre></div><p>Bởi vì chúng ta thực chất là đang giải 1 đống phương trình vi phần thường (ODE), chúng ta có thể dùng phương pháp Euler để giải các phương trình này và cập nhật các biến trạng thái trong mảng đầu ra:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># tích phân theo thời gian bằng phương pháp Euler</span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">for</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">in</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">arange</span>(<span style="color:#e06c75">dt</span>, <span style="color:#e06c75">duration</span> <span style="color:#56b6c2">+</span> <span style="color:#e06c75">dt</span>, <span style="color:#e06c75">dt</span>): <span style="color:#7f848e"># bắt đầu ở dt và kết thúc ở duration</span>
</span></span></code></pre></div><p>Vòng lặp này cho phép chúng ta tính toán và dùng phương trình ở mỗi thời điểm $dt$, là khoảng $0.01s$.</p>
<p>Chúng ta cũng cần tính gia tốc tức thì ở trục X và Z tại thời điểm $dt$:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># tính gia tốc</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">ax</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fx</span>[<span style="color:#e5c07b">int</span>(<span style="color:#e06c75">t</span><span style="color:#56b6c2">/</span><span style="color:#e06c75">dt</span>)] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">mass</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">az</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fz</span>[<span style="color:#e5c07b">int</span>(<span style="color:#e06c75">t</span><span style="color:#56b6c2">/</span><span style="color:#e06c75">dt</span>)] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">mass</span> <span style="color:#56b6c2">-</span> <span style="color:#e06c75">g</span>
</span></span></code></pre></div><p>Chúng ta có thể tính toán gia tốc góc pitch bằng cách chia mô men xoắn với mô men quán tính khối lượng. Bạn có thể nghĩ nó như là chia mô men xoắn với độ &ldquo;kháng lại&rdquo; thay đổi với quán tính:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># tính gia tốc góc pitch</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">dqdt</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">My</span>[<span style="color:#e5c07b">int</span>(<span style="color:#e06c75">t</span><span style="color:#56b6c2">/</span><span style="color:#e06c75">dt</span>)] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">inertia</span>
</span></span></code></pre></div><p>Chúng ta cũng cần tính vận tốc X và Z, độ thay đổi của góc pitch, vị trí và góc pitch tại thời điểm $dt$ có tính đến các trạng thái trước đó. Cách tính này sẽ cho phép chúng ta mô phỏng cách mà động lực của tên lửa sẽ thay đổi theo thời gian:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># tính vận tốc và độ thay đổi của góc pitch</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">u</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">ax</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">w</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">az</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">q</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">dqdt</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e"># tính vị trí</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">pos</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">vel</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">vel</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>([<span style="color:#e06c75">u</span>, <span style="color:#e06c75">w</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e"># tính góc pitch</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">theta</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">q</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span></code></pre></div><p>Sau khi tính toán thì chúng ta sẽ cần lưu lại các giá trị này vào trong mảng đầu ra:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#e06c75">theta_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">theta</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">q_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">q</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">dqdt_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">dqdt</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">pos_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">pos</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">copy</span>())
</span></span><span style="display:flex;"><span><span style="color:#e06c75">velocity_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">vel</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">copy</span>())
</span></span><span style="display:flex;"><span><span style="color:#e06c75">acceleration_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>([<span style="color:#e06c75">ax</span>, <span style="color:#e06c75">az</span>]))
</span></span></code></pre></div><p>Chúng ta cũng sẽ cần 1 điều khiện ngừng để tính đến trường hợp tên lửa đâm vào mặt đất. Chúng ta có thể check xem giá trị vị trí ở trục Z có nhỏ hơn hoặc bằng 0 ở thời điện hiện tại hay ko. Chúng ta cũng cần đợi khoảng 2 giây để tên lửa có thể phóng lên từ vị trí 0:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">if</span> <span style="color:#e06c75">pos</span>[<span style="color:#d19a66">1</span>] <span style="color:#56b6c2">&lt;=</span> <span style="color:#d19a66">0</span> <span style="color:#56b6c2">and</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">&gt;</span> <span style="color:#d19a66">2</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">break</span>
</span></span></code></pre></div><p>Đó là cách lập trình hàm 3DOF. Đây là code full của hàm đó:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">def</span> <span style="color:#61afef;font-weight:bold">three_dof_body_axes</span>(<span style="color:#e06c75">Fx</span>, <span style="color:#e06c75">Fz</span>, <span style="color:#e06c75">My</span>, <span style="color:#e06c75">u0</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">w0</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">theta0</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">q0</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">pos0</span><span style="color:#56b6c2">=</span>[<span style="color:#d19a66">0.0</span>, <span style="color:#d19a66">0.0</span>], <span style="color:#e06c75">mass</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0</span>, <span style="color:#e06c75">inertia</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.0</span>, <span style="color:#e06c75">g</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">9.81</span>, <span style="color:#e06c75">dt</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.01</span>, <span style="color:#e06c75">duration</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">10</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">pos</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">pos0</span>, <span style="color:#e06c75">dtype</span><span style="color:#56b6c2">=</span><span style="color:#e5c07b">float</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">u</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">u0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">w</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">w0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">theta</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">theta0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">q</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">q0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">vel</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>([<span style="color:#e06c75">u</span>, <span style="color:#e06c75">w</span>])
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">ax</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fx</span>[<span style="color:#d19a66">0</span>] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">mass</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">az</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fz</span>[<span style="color:#d19a66">0</span>] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">mass</span> <span style="color:#56b6c2">-</span> <span style="color:#e06c75">g</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">theta_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">theta</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">q_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">q</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">dqdt_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#d19a66">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">pos_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">pos</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">copy</span>()]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">velocity_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">vel</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">copy</span>()]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">acceleration_list</span> <span style="color:#56b6c2">=</span> [<span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>([<span style="color:#e06c75">ax</span>, <span style="color:#e06c75">az</span>])]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">for</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">in</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">arange</span>(<span style="color:#e06c75">dt</span>, <span style="color:#e06c75">duration</span> <span style="color:#56b6c2">+</span> <span style="color:#e06c75">dt</span>, <span style="color:#e06c75">dt</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">ax</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fx</span>[<span style="color:#e5c07b">int</span>(<span style="color:#e06c75">t</span><span style="color:#56b6c2">/</span><span style="color:#e06c75">dt</span>)] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">mass</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">az</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fz</span>[<span style="color:#e5c07b">int</span>(<span style="color:#e06c75">t</span><span style="color:#56b6c2">/</span><span style="color:#e06c75">dt</span>)] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">mass</span> <span style="color:#56b6c2">-</span> <span style="color:#e06c75">g</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">dqdt</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">My</span>[<span style="color:#e5c07b">int</span>(<span style="color:#e06c75">t</span><span style="color:#56b6c2">/</span><span style="color:#e06c75">dt</span>)] <span style="color:#56b6c2">/</span> <span style="color:#e06c75">inertia</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">u</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">ax</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">w</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">az</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">q</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">dqdt</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">pos</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">vel</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">vel</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>([<span style="color:#e06c75">u</span>, <span style="color:#e06c75">w</span>])
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">theta</span> <span style="color:#56b6c2">+=</span> <span style="color:#e06c75">q</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">theta_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">theta</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">q_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">q</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">dqdt_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">dqdt</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">pos_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">pos</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">copy</span>())
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">velocity_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">vel</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">copy</span>())
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">acceleration_list</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>([<span style="color:#e06c75">ax</span>, <span style="color:#e06c75">az</span>]))
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#c678dd">if</span> <span style="color:#e06c75">pos</span>[<span style="color:#d19a66">1</span>] <span style="color:#56b6c2">&lt;=</span> <span style="color:#d19a66">0</span> <span style="color:#56b6c2">and</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">&gt;</span> <span style="color:#d19a66">2</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#c678dd">break</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#98c379">&#39;theta&#39;</span> : <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">theta_list</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#98c379">&#39;q&#39;</span> : <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">q_list</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#98c379">&#39;dqdt&#39;</span> : <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">dqdt_list</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#98c379">&#39;pos&#39;</span> : <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">pos_list</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#98c379">&#39;velocity&#39;</span> : <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">velocity_list</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#98c379">&#39;acceleration&#39;</span> : <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">acceleration_list</span>)
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h2 id="đặc-tính-lực-đẩy">Đặc tính lực đẩy</h2>
<p>Chúng ta sẽ cần 1 mảng chứa đặc tính lực đẩy. Đặc tính lực đẩy là lực đẩy của tên lửa ở 1 khoảng thời gian nhất định. Tên lửa chúng mình có lực đẩy max là $15N$. Chúng ta sẽ mô phỏng 4 giai đoạn đẩy mà tên lửa mô hình thường có:</p>
<p>4 giai đoạn đẩy này sẽ là giai đoạn tăng tốc, giai đoạn max lực đẩy, giai đoạn giảm tốc, và giai đoạn burnout.</p>
<ul>
<li>Giai đoạn tăng tốc: Ở giai đoạn này, tên lửa sẽ nhanh chóng tăng lực đẩy từ $0N$ lên $15N$. Giai đoạn này chiếm khoảng $10%$ thời gian đẩy. Chúng ta có thể mô phỏng giai đoạn này qua phương trình bậc 2, nó cho phép tên lửa của mình bắt đầu dần dần tăng nhanh lên trong 1 khoảng thời gian nhất định.</li>
<li>Giai đoạn max lực đẩy: Ở giai đoạn này, tên lửa sẽ có lực đẩy là max $15N$. Giai đoạn này sẽ chiếm khoảng $20%$ thời gian đẩy.</li>
<li>Giai đoạn giảm tốc: Ở giai đoạn này, tên lửa sẽ dần dần giảm tốc từ $15N$ xuống $0N$. Giai đoạn này sẽ chiếm khoảng $70%$ thời gian đẩy. Chúng ta có thể mô phỏng giai đoạn này với 1 phương trình tuyến tính.</li>
<li>Burnout: Ở giai đoạn này, tên lửa sẽ có lực đẩy là $0N$. Giai đoạn này sẽ xảy ra sau thời gian đẩy.</li>
</ul>
<h2 id="lập-trình-hàm-tạo-đặc-tính-lực-đẩy">Lập trình hàm tạo đặc tính lực đẩy</h2>
<p>Hàm tạo này sẽ cần thời gian mô phỏng, thời gian đẩy, lực đẩy max, và khoảng thời gian bước $dt$:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">def</span> <span style="color:#61afef;font-weight:bold">generate_thrust_profile</span>(<span style="color:#e06c75">duration</span>, <span style="color:#e06c75">thrust_duration</span>, <span style="color:#e06c75">peak_thrust</span>, <span style="color:#e06c75">dt</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.01</span>):
</span></span></code></pre></div><p>Chúng ta sẽ cần tính lực đẩy của tên lửa ở mỗi khoảng thời gian từ 0 đến hết thời gian đẩy. Chúng ta sẽ lưu giá trị lực đẩy này vào 1 mảng đặc tính lực đẩy:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#e06c75">thrust_profile</span> <span style="color:#56b6c2">=</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">for</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">in</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">arange</span>(<span style="color:#d19a66">0</span>, <span style="color:#e06c75">duration</span> <span style="color:#56b6c2">+</span> <span style="color:#e06c75">dt</span>, <span style="color:#e06c75">dt</span>):
</span></span></code></pre></div><p>Đầu tiên thì mình sẽ lập trình giai đoạn tăng tốc ($10%$ thời gian đẩy):</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">if</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#d19a66">0.1</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">peak_thrust</span> <span style="color:#56b6c2">*</span> (<span style="color:#d19a66">10</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">/</span> <span style="color:#e06c75">thrust_duration</span>)<span style="color:#56b6c2">**</span><span style="color:#d19a66">2</span>
</span></span></code></pre></div><p>Đây là phương trình bậc 2. Mình nhân 10 với <code>t / thrust_duration</code> để chuẩn hóa dữ liệu vào khoảng $[0, 1]$ (đây là phần trăm thời gian đã trôi qua). Rồi mình dùng căn bậc 2 và nhân với <code>peak_thrust</code> để tính giá trị đẩy ở thời điểm $t$. Phương trình này sẽ tạo ra 1 đặc tính lực đẩy tăng chậm ban đầu rồi tăng nhanh dần dần.</p>
<p>Tiếp theo thì mình sẽ lập trình giai đoạn max lực đẩy ($20%$ thời gian đẩy):</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">elif</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#d19a66">0.3</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">peak_thrust</span>
</span></span></code></pre></div><p>Giai đoạn này sẽ kết thục vào khoảng $30%$ của thời gian đẩy (bởi vì giai đoạn tăng tốc đã chiếm $10%$ rồi).</p>
<p>Tiếp theo thì mình sẽ lập trình giai đoạn giảm tốc ($70%$ thời gian đẩy)</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">elif</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#e06c75">thrust_duration</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">peak_thrust</span> <span style="color:#56b6c2">*</span> (<span style="color:#d19a66">1</span> <span style="color:#56b6c2">-</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">0.3</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>) <span style="color:#56b6c2">/</span> (<span style="color:#d19a66">0.7</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>))
</span></span></code></pre></div><p>Đây là phương trình tuyến tính. Mình sẽ giải thích từng đoạn:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>((<span style="color:#e06c75">t</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">0.3</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>) <span style="color:#56b6c2">/</span> (<span style="color:#d19a66">0.7</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>))
</span></span></code></pre></div><p><code>(t - 0.3 * thrust_duration)</code> sẽ cho chúng ta biết thời gian đã qua kể từ kết thúc của giai đoạn max lực đẩy. Sau đó chia với <code>(0.7 * thrust_duration)</code> sẽ cho chúng ta biết được phần trăm của thời gian hiện tại ở trong khoảng $70%$ của giai đoạn giảm tốc. Chúng ta sẽ biết được chúng ta ở trong giai đoạn giảm tốc lâu đến đâu.</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>(<span style="color:#d19a66">1</span> <span style="color:#56b6c2">-</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">0.3</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>) <span style="color:#56b6c2">/</span> (<span style="color:#d19a66">0.7</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>))
</span></span></code></pre></div><p>Bởi vì chúng ta muốn lực đẩy dần dần giảm, chúng ta sẽ trừ với 1 để đảo ngược giá trị phần trăm chúng ta vừa tính được. Và cuối cùng thì chúng ta có thể nhân nó với giá trị lực đẩy max.</p>
<p>Tiếp theo thì mình sẽ lập trình giai đoạn burnout:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">else</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>
</span></span></code></pre></div><p>Cuối cùng thì mình sẽ cho giá trị tính được vào 1 mảng đầu ra, và quay lại vòng lặp. Đó là hàm tạo đặc tính lực đẩy. Đây là code full của hàm:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#c678dd">def</span> <span style="color:#61afef;font-weight:bold">generate_thrust_profile</span>(<span style="color:#e06c75">duration</span>, <span style="color:#e06c75">thrust_duration</span>, <span style="color:#e06c75">peak_thrust</span>, <span style="color:#e06c75">dt</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.01</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">thrust_profile</span> <span style="color:#56b6c2">=</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">for</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">in</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">arange</span>(<span style="color:#d19a66">0</span>, <span style="color:#e06c75">duration</span> <span style="color:#56b6c2">+</span> <span style="color:#e06c75">dt</span>, <span style="color:#e06c75">dt</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#c678dd">if</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#d19a66">0.1</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#e06c75">thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">peak_thrust</span> <span style="color:#56b6c2">*</span> (<span style="color:#d19a66">10</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">/</span> <span style="color:#e06c75">thrust_duration</span>)<span style="color:#56b6c2">**</span><span style="color:#d19a66">2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#c678dd">elif</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#d19a66">0.3</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#e06c75">thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">peak_thrust</span>
</span></span><span style="display:flex;"><span>        <span style="color:#c678dd">elif</span> <span style="color:#e06c75">t</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#e06c75">thrust_duration</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#e06c75">thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">peak_thrust</span> <span style="color:#56b6c2">*</span> (<span style="color:#d19a66">1</span> <span style="color:#56b6c2">-</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">0.3</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>) <span style="color:#56b6c2">/</span> (<span style="color:#d19a66">0.7</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#c678dd">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#e06c75">thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">thrust_profile</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">append</span>(<span style="color:#e06c75">thrust</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">array</span>(<span style="color:#e06c75">thrust_profile</span>)
</span></span></code></pre></div><p>Mình sẽ dùng hàm này để tạo ra 1 đặc tính lực đẩy và mình sẽ vẽ lược đồ cho đặc tính này:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># giá trị</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">peak_thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">15</span> <span style="color:#7f848e"># N</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">thrust_duration</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">4</span> <span style="color:#7f848e"># s</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">simulation_duration</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">30</span> <span style="color:#7f848e"># s</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">dt</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.01</span> <span style="color:#7f848e"># s</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e"># tạo đặc tính</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">thrust_profile</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">generate_thrust_profile</span>(<span style="color:#e06c75">simulation_duration</span>, <span style="color:#e06c75">thrust_duration</span>, <span style="color:#e06c75">peak_thrust</span>, <span style="color:#e06c75">dt</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">time_range</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">arange</span>(<span style="color:#d19a66">0</span>, <span style="color:#e06c75">simulation_duration</span> <span style="color:#56b6c2">+</span> <span style="color:#e06c75">dt</span>, <span style="color:#e06c75">dt</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e"># vẽ lược đồ</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">figure</span>(<span style="color:#e06c75">figsize</span><span style="color:#56b6c2">=</span>(<span style="color:#d19a66">10</span>, <span style="color:#d19a66">6</span>))
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">plot</span>(<span style="color:#e06c75">time_range</span>, <span style="color:#e06c75">thrust_profile</span>, <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;Thrust&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">axvline</span>(<span style="color:#e06c75">x</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.1</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>, <span style="color:#e06c75">color</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;red&#39;</span>, <span style="color:#e06c75">linestyle</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;--&#39;</span>, <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;End of rapid rise&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">axvline</span>(<span style="color:#e06c75">x</span><span style="color:#56b6c2">=</span><span style="color:#d19a66">0.3</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_duration</span>, <span style="color:#e06c75">color</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;green&#39;</span>, <span style="color:#e06c75">linestyle</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;--&#39;</span>, <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;End of peak thrust&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">axvline</span>(<span style="color:#e06c75">x</span><span style="color:#56b6c2">=</span><span style="color:#e06c75">thrust_duration</span>, <span style="color:#e06c75">color</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;orange&#39;</span>, <span style="color:#e06c75">linestyle</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;--&#39;</span>, <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;End of decay phase (Burnout)&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">xlabel</span>(<span style="color:#98c379">&#39;Time (s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">ylabel</span>(<span style="color:#98c379">&#39;Thrust (N)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">title</span>(<span style="color:#98c379">&#39;Thrust Profile&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">legend</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">grid</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">show</span>()
</span></span></code></pre></div>
    <img src="/img/tvc-modeling/thrust-profile.png"  alt="Thrust profile drop off"  class="center"  style="padding: 10px"  />


<p>Chúng ta có thể thấy là giai đoạn tăng tốc bắt đầu chậm nhưng tăng tốc lên rất nhanh, giai đoạn max lực đẩy là 1 hằng số, và giai đoạn giảm tốc là tuyến tính. Thế là hàm của chúng ta hoạt động tốt.</p>
<p>Chúng ta có thể sử dụng hàm tạo đặc tính lực đẩy này để tính động lực của tên lửa và mô phỏng nó.</p>
<h2 id="mô-phỏng-tên-lửa">Mô phỏng tên lửa</h2>
<p>Chúng ta sẽ cần tạo 1 số tham số và điều kiện bắt đầu của tên lửa. Mình sẽ đặt thời gian mô phỏng là 30 giây:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># tham số</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">mass</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.543</span> <span style="color:#7f848e"># kg</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">inertia</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.048</span> <span style="color:#7f848e"># kg*m^2</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">g</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">9.81</span> <span style="color:#7f848e"># m/s^2</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">peak_thrust</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">15</span> <span style="color:#7f848e"># N</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">thrust_duration</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">4</span> <span style="color:#7f848e"># s</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">simulation_duration</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">30</span> <span style="color:#7f848e"># s</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">dt</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.01</span> <span style="color:#7f848e"># s</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">moment_arm</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.28</span> <span style="color:#7f848e"># mét</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">gimbal_angle</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.00</span> <span style="color:#7f848e"># radian</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e"># điều kiện bắt đầu</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">u0</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.0</span> <span style="color:#7f848e"># vận tốc ban đầu x</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">w0</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.0</span> <span style="color:#7f848e"># vận tốc ban đầu z</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">theta0</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.0</span> <span style="color:#7f848e"># góc pitch ban đầu</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">q0</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0.0</span> <span style="color:#7f848e"># độ thay đổi góc pitch ban đầu</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">pos0</span> <span style="color:#56b6c2">=</span> [<span style="color:#d19a66">0.0</span>, <span style="color:#d19a66">0.0</span>] <span style="color:#7f848e"># vị trí ban đầu [x, z]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e"># tạo đặc tính lực đẩy</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">thrust_profile</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">generate_thrust_profile</span>(<span style="color:#e06c75">simulation_duration</span>, <span style="color:#e06c75">thrust_duration</span>, <span style="color:#e06c75">peak_thrust</span>, <span style="color:#e06c75">dt</span>)
</span></span></code></pre></div><p><em>Note</em>: biến <code>gimbal_angle</code> được đặt với giá trị là $0rad$. Đây là góc của gimbal của động cơ đẩy. Chúng ta sẽ có thể thấy được nếu như thay đổi giá trị này thì tên lửa sẽ ra sao trong 1 lúc nữa. Hiện tại thì mình sẽ đặt nó về 0, tức là tên lửa sẽ bắn thẳng lên trời.</p>
<p>Tiếp theo thì chúng ta sẽ cần tính lực ở trục X và Z cùng với mô men xoắn dựa trên đặc tính lực đẩy:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#e06c75">Fx</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">sin</span>(<span style="color:#e06c75">gimbal_angle</span>) <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_profile</span> <span style="color:#7f848e"># lực ngang</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Fz</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">cos</span>(<span style="color:#e06c75">gimbal_angle</span>) <span style="color:#56b6c2">*</span> <span style="color:#e06c75">thrust_profile</span> <span style="color:#7f848e"># lực dọc</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">My</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">Fx</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">moment_arm</span> <span style="color:#7f848e"># mô men pitch (mô men xoắn)</span>
</span></span></code></pre></div><p>Mình sử dụng 1 vài phương trình lượng giác để tính lực đẩy của tên lửa trên 2 trục. Đây là cách tính của mình:</p>

    <img src="/img/tvc-modeling/fx-fz-trig.png"  alt="Forces and thrust trigonometry visualization"  class="center"  style="padding: 10px"  />


<p>Đây là cách mà lực $F_x$ và $F_z$ được áp đặt lên tên lửa, với $\theta$ là góc gimbal. Chúng ta có thể thấy được với tam giác vuông này thì chúng ta có thể áp dụng những phương trình lượng giác để tính được $F_x$ và $F_z$:</p>
<p>$$
\sin(\theta) = \frac{F_x}{T}, \ \cos(\theta) = \frac{F_z}{T}
$$</p>
<p>Sắp xếp lại 2 phương trình này sẽ cho ra 2 phương trình dùng để tính $F_x$ và $F_z$:</p>
<p>$$
F_x = \sin(\theta) * T, \ F_z = \cos(\theta) * T
$$</p>
<p>Với mô men xoắn thì chúng ta có thể nhân lực $F_x$ với giá trị cánh tay đòn bởi vì lực đẩy ngang sẽ tạo ra mô men quanh trọng tâm của tên lửa (nó được dùng để điều khiển pitch, thế nên nó được gọi là mô men pitch).</p>
<p>Đây là tất cả các giá trị mà chúng ta cần để cho vào hàm 3DOF:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#e06c75">results</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">three_dof_body_axes</span>(<span style="color:#e06c75">Fx</span>, <span style="color:#e06c75">Fz</span>, <span style="color:#e06c75">My</span>, <span style="color:#e06c75">u0</span>, <span style="color:#e06c75">w0</span>, <span style="color:#e06c75">theta0</span>, <span style="color:#e06c75">q0</span>, <span style="color:#e06c75">pos0</span>, <span style="color:#e06c75">mass</span>, <span style="color:#e06c75">inertia</span>, <span style="color:#e06c75">g</span>, <span style="color:#e06c75">dt</span>, <span style="color:#e06c75">simulation_duration</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">time</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">np</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">arange</span>(<span style="color:#d19a66">0</span>, <span style="color:#e5c07b">len</span>(<span style="color:#e06c75">results</span>[<span style="color:#98c379">&#39;pos&#39;</span>]) <span style="color:#56b6c2">*</span> <span style="color:#e06c75">dt</span>, <span style="color:#e06c75">dt</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">pos</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">results</span>[<span style="color:#98c379">&#39;pos&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#e06c75">velocity</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">results</span>[<span style="color:#98c379">&#39;velocity&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#e06c75">acceleration</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">results</span>[<span style="color:#98c379">&#39;acceleration&#39;</span>]
</span></span></code></pre></div><h3 id="vẽ-lược-đồ-dữ-liệu-mô-phỏng-góc-gimbal--0">Vẽ lược đồ dữ liệu mô phỏng (góc gimbal = 0)</h3>
<p>Mình sẽ vẽ lược đồ cho các giá trị về trạng thái của tên lửa vừa được tính toán:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># vẽ lược đồ (dữ liệu trục Z)</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">figure</span>(<span style="color:#e06c75">figsize</span><span style="color:#56b6c2">=</span>(<span style="color:#d19a66">12</span>, <span style="color:#d19a66">8</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">subplot</span>(<span style="color:#d19a66">3</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">plot</span>(<span style="color:#e06c75">time</span>, <span style="color:#e06c75">pos</span>[:, <span style="color:#d19a66">1</span>], <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;Z Position&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">xlabel</span>(<span style="color:#98c379">&#39;Time (s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">ylabel</span>(<span style="color:#98c379">&#39;Z Position (m)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">title</span>(<span style="color:#98c379">&#39;Z Position Data&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">legend</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">grid</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">subplot</span>(<span style="color:#d19a66">3</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">plot</span>(<span style="color:#e06c75">time</span>, <span style="color:#e06c75">velocity</span>[:, <span style="color:#d19a66">1</span>], <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;Z Velocity&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">xlabel</span>(<span style="color:#98c379">&#39;Time (s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">ylabel</span>(<span style="color:#98c379">&#39;Z Velocity (m/s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">title</span>(<span style="color:#98c379">&#39;Z Velocity Data&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">legend</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">grid</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">subplot</span>(<span style="color:#d19a66">3</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">plot</span>(<span style="color:#e06c75">time</span>, <span style="color:#e06c75">acceleration</span>[:, <span style="color:#d19a66">1</span>], <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;Z Acceleration&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">xlabel</span>(<span style="color:#98c379">&#39;Time (s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">ylabel</span>(<span style="color:#98c379">&#39;Z Acceleration (m/s^2)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">title</span>(<span style="color:#98c379">&#39;Z Acceleration Data&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">legend</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">grid</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">tight_layout</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">show</span>()
</span></span></code></pre></div>
    <img src="/img/tvc-modeling/z-data-plot-1.png"  alt="Z data plots 1"  class="center"  style="padding: 10px"  />


<p>Chúng ta có thể thấy là tên lửa này có thể đạt độ cao khoảng hơn $100m$ với vận tốc tối đa là khoảng $30m/s$. Gia tốc của tên lửa bắt đầu ở khoảng $-9.81m/s^2$ bởi vì tên lửa bị kéo xuống bởi trọng lực. Vào khoảng vài mili giây sau khi phóng thì gia tốc đạt $0m/s^2$, có nghĩa là lực đẩy của tên lửa đã hóa với lực kéo của trọng lực. Vào khoảng vài mili giây sau đó thì nó đạt được gia tốc khoảng $15m/s^2$, rồi nó dần giảm xuống do tên lửa đã vào giai đoạn giảm tốc.</p>
<p>Mình sẽ vẽ lược đồ cho dữ liệu ở trục X:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># vẽ lược đồ (dữ liệu trục X)</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">figure</span>(<span style="color:#e06c75">figsize</span><span style="color:#56b6c2">=</span>(<span style="color:#d19a66">12</span>, <span style="color:#d19a66">8</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">subplot</span>(<span style="color:#d19a66">3</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">plot</span>(<span style="color:#e06c75">time</span>, <span style="color:#e06c75">pos</span>[:, <span style="color:#d19a66">0</span>], <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;X Position&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">xlabel</span>(<span style="color:#98c379">&#39;Time (s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">ylabel</span>(<span style="color:#98c379">&#39;X Position (m)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">title</span>(<span style="color:#98c379">&#39;X Position Data&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">legend</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">grid</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">subplot</span>(<span style="color:#d19a66">3</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">plot</span>(<span style="color:#e06c75">time</span>, <span style="color:#e06c75">velocity</span>[:, <span style="color:#d19a66">0</span>], <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;X Velocity&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">xlabel</span>(<span style="color:#98c379">&#39;Time (s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">ylabel</span>(<span style="color:#98c379">&#39;X Velocity (m/s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">title</span>(<span style="color:#98c379">&#39;X Velocity Data&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">legend</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">grid</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">subplot</span>(<span style="color:#d19a66">3</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">plot</span>(<span style="color:#e06c75">time</span>, <span style="color:#e06c75">acceleration</span>[:, <span style="color:#d19a66">0</span>], <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;X Acceleration&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">xlabel</span>(<span style="color:#98c379">&#39;Time (s)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">ylabel</span>(<span style="color:#98c379">&#39;X Acceleration (m/s^2)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">title</span>(<span style="color:#98c379">&#39;X Acceleration Data&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">legend</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">grid</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">tight_layout</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">show</span>()
</span></span></code></pre></div>
    <img src="/img/tvc-modeling/x-data-plot-1.png"  alt="X data plots 1"  class="center"  style="padding: 10px"  />


<p>Bởi vì mình đã đặt biến <code>gimbal_angle</code> về $0rad$, tên lửa này sẽ phóng thẳng lên, không di chuyển 1 ít nào ở trục X.</p>
<p>Mình sẽ vẽ lược đồ miêu tả quỹ đạo bay của tên lửa để xem tên lửa này sẽ bay thế nào:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#7f848e"># plot trajectory of rocket (2D) lược đồ quy đạo bay của tên lửa (2D)</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">figure</span>(<span style="color:#e06c75">figsize</span><span style="color:#56b6c2">=</span>(<span style="color:#d19a66">8</span>, <span style="color:#d19a66">5</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">plot</span>(<span style="color:#e06c75">pos</span>[:, <span style="color:#d19a66">0</span>], <span style="color:#e06c75">pos</span>[:, <span style="color:#d19a66">1</span>], <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;Rocket Trajectory&#39;</span>, <span style="color:#e06c75">color</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;blue&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">scatter</span>(<span style="color:#e06c75">pos</span>[<span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>], <span style="color:#e06c75">pos</span>[<span style="color:#d19a66">0</span>, <span style="color:#d19a66">1</span>], <span style="color:#e06c75">color</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;green&#39;</span>, <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;Launch Point&#39;</span>) <span style="color:#7f848e"># điểm xuất phát</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">scatter</span>(<span style="color:#e06c75">pos</span>[<span style="color:#56b6c2">-</span><span style="color:#d19a66">1</span>, <span style="color:#d19a66">0</span>], <span style="color:#e06c75">pos</span>[<span style="color:#56b6c2">-</span><span style="color:#d19a66">1</span>, <span style="color:#d19a66">1</span>], <span style="color:#e06c75">color</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;red&#39;</span>, <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;Impact Point&#39;</span>) <span style="color:#7f848e"># điểm dừng</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">axhline</span>(<span style="color:#d19a66">0</span>, <span style="color:#e06c75">color</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;black&#39;</span>, <span style="color:#e06c75">linestyle</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;--&#39;</span>, <span style="color:#e06c75">label</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#39;Ground&#39;</span>) <span style="color:#7f848e"># mặt đất</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">xlabel</span>(<span style="color:#98c379">&#39;X Position (m)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">ylabel</span>(<span style="color:#98c379">&#39;Z Position (m)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">title</span>(<span style="color:#98c379">&#39;Rocket Trajectory&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">legend</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">plt</span><span style="color:#56b6c2">.</span><span style="color:#e06c75">show</span>()
</span></span></code></pre></div>
    <img src="/img/tvc-modeling/rocket-trajectory-1.png"  alt="Rocket trajectory plot 1"  class="center"  style="padding: 10px"  />


<p>Tên lửa này sẽ phóng thẳng lên khoảng hơn $100m$ 1 ít rồi rơi thẳng xuống.</p>
<h3 id="vẽ-lược-đồ-dữ-liệu-mô-phỏng-góc-gimbal-khác-0">Vẽ lược đồ dữ liệu mô phỏng (góc gimbal khác 0)</h3>
<p>Mình sẽ điều chính góc gimbal để xem tên lửa này sẽ bay thế nào:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#e06c75">gimbal_angle</span> <span style="color:#56b6c2">=</span> <span style="color:#56b6c2">-</span><span style="color:#d19a66">0.05</span> <span style="color:#7f848e"># radian</span>
</span></span></code></pre></div><p>Và mình sẽ chạy lại chương trình và lấy dữ liệu đầu ra.</p>
<ul>
<li>Dữ liệu trục Z:</li>
</ul>

    <img src="/img/tvc-modeling/z-data-plot-2.png"  alt="Z data plots 2"  class="center"  style="padding: 10px"  />


<ul>
<li>Dữ liệu trục X:</li>
</ul>

    <img src="/img/tvc-modeling/x-data-plot-2.png"  alt="X data plots 2"  class="center"  style="padding: 10px"  />


<p>Chúng ta có thể thấy là dữ liệu trục Z không thay đổi từ lần mô phỏng trước, nhưng dữ liệu trục X thay đổi rất nhiều. Dữ liệu vị trí trục X dần dần tiến tới 1 giá trị khác. Điều này có nghĩa là tên lửa đang di chuyển trên trục X. Chúng ta cũng có thể thấy là dữ liệu vận tốc đang giảm xuống giá trị âm do chúng ta đang phóng tên lửa sang bên trái.</p>

    <img src="/img/tvc-modeling/rocket-trajectory-2.png"  alt="Rocket trajectory plot 2"  class="center"  style="padding: 10px"  />


<p>Đây là quỹ đạo của tên lửa này. Chúng ta có thể thấy là tên lửa này bay lên hơn $100m$ và hạ cánh tại vị trí cách vị trí bắt đầu khoảng $30m$. Chúng ta đã mô phỏng tên lửa điều chỉnh vectơ đẩy trong Python thành công.</p>
<h2 id="kết-luận">Kết luận</h2>
<p>Chúng ta đã xây dựng 1 chương trình mô phỏng tên lửa điều chỉnh vectơ đẩy trong Python với 3 bậc tự do. Chúng ta cũng đã nói đến 3 bậc tự do là gì, đặc tính lực đẩy là gì, cách lập trình mô phỏng tên lửa và vẽ lược đồ dữ liệu tên lửa và lược đồ quỹ đạo bay của tên lửa.</p>
<p>Dự án này vẫn còn nhiều việc để làm như là lập trình 1 đặc tính lực đẩy giống thực tế hơn, lập trình các yếu tố bên ngoài như là gió hay lực cản không khí, và lập trình 1 bộ điều khiển như là PID để điều khiển tên lửa này. Mình sẽ lập tình các tính năng này vào chương trình mô phỏng này trong tương lai.</p>
<p>Đây là 1 dự án rất hay đối với mình. Mình đã học được thêm rất nhiều thứ về kĩ thuật tên lửa và mình mong rằng bạn cũng đã học thêm được về kĩ thuật tên lửa và động lực tên lửa từ bài đăng blog này.</p>
<blockquote>
<p>Tất cả code trong bài đăng này được host tại <a href="https://github.com/namberino/tvc-sim">đây</a></p></blockquote>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://namberino.github.io/vi/tags/l%E1%BA%ADp-tr%C3%ACnh/">lập trình</a></span>
        <span class="tag"><a href="https://namberino.github.io/vi/tags/khoa-h%E1%BB%8Dc/">khoa học</a></span>
        <span class="tag"><a href="https://namberino.github.io/vi/tags/m%C3%B4-ph%E1%BB%8Fng/">mô phỏng</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        4020 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2024-06-05 20:31
        

         
          
        
      </p>
    </div>
      <hr />
      <div class="sharing-buttons">
        
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f" target="_blank" rel="noopener" aria-label="" title="Share on facebook">
  <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f" target="_blank" rel="noopener" aria-label="" title="Share on twitter">
  <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
      <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python&amp;caption=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python&amp;canonicalUrl=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f" target="_blank" rel="noopener" aria-label="" title="Share on tumblr">
  <div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small">
    <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.563 24c-5.093 0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941 0 9.999 0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="mailto:?subject=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python&amp;body=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f" target="_self" rel="noopener" aria-label="" title="Share via email">
  <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f&amp;media=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f;description=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python" target="_blank" rel="noopener" aria-label="" title="Share on pinterest">
  <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f&amp;title=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python&amp;summary=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python&amp;source=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f" target="_blank" rel="noopener" aria-label="" title="Share on linkedin">
  <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f&amp;resubmit=true&amp;title=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python" target="_blank" rel="noopener" aria-label="" title="Share on reddit">
  <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.xing.com/app/user?op=share;url=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f;title=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python" target="_blank" rel="noopener" aria-label="" title="Share on xing">
  <div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="whatsapp://send?text=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python%20https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f" target="_blank" rel="noopener" aria-label="" title="Share on whatsapp">
  <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f&amp;t=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python" target="_blank" rel="noopener" aria-label="" title="Share on hacker news">
  <div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://telegram.me/share/url?text=M%c3%b4%20Ph%e1%bb%8fng%20T%c3%aan%20L%e1%bb%ada%20%c4%90i%e1%bb%81u%20Ch%e1%bb%89nh%20Vect%c6%a1%20%c4%90%e1%ba%a9y%20trong%20Python&amp;url=https%3a%2f%2fnamberino.github.io%2fvi%2fposts%2f2024%2f06%2fm%25C3%25B4-ph%25E1%25BB%258Fng-t%25C3%25AAn-l%25E1%25BB%25ADa-%25C4%2591i%25E1%25BB%2581u-ch%25E1%25BB%2589nh-vect%25C6%25A1-%25C4%2591%25E1%25BA%25A9y-trong-python%2f" target="_blank" rel="noopener" aria-label="" title="Share on telegram">
  <div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </div>
  </div>
</a>

      </div>

    
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://namberino.github.io/vi/posts/2024/06/l%E1%BA%ADp-tr%C3%ACnh-h%E1%BB%87-%C4%91i%E1%BB%81u-h%C3%A0nh-boot-sector-ph%E1%BA%A7n-1/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Lập trình hệ điều hành: Boot sector [Phần 1]</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://namberino.github.io/vi/posts/2024/06/l%E1%BA%ADp-tr%C3%ACnh-h%E1%BB%87-%C4%91i%E1%BB%81u-h%C3%A0nh-kh%E1%BB%9Fi-%C4%91%E1%BA%A7u/">
                    <span class="button__text">Lập trình hệ điều hành: Khởi đầu</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

    

  </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js" integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc&#43;cxaJzDdCYbAW0X1G&#43;DgZYvtKFXe6MBex8jUJ2JT25mQx&#43;YjACIng=="></script>




    </body>
</html>
